# Render Deployment Guide

## ‚úÖ Production Ready Checklist

All deployment issues have been fixed:

- ‚úÖ **requirements.txt** - All dependencies defined
- ‚úÖ **CSRF Protection** - Added to middleware
- ‚úÖ **Security Settings** - Production headers configured
- ‚úÖ **CORS Support** - Ready for frontend integration
- ‚úÖ **Database Support** - PostgreSQL and SQLite
- ‚úÖ **Static Files** - WhiteNoise configured
- ‚úÖ **Build Script** - Automated deployment
- ‚úÖ **Environment Variables** - Production ready

## üöÄ Render Deployment Steps

### 1. Push to GitHub
```bash
git init
git add .
git commit -m "Initial commit - production ready"
git branch -M main
git remote add origin https://github.com/yourusername/telegram-chat-api.git
git push -u origin main
```

### 2. Create Render Account
- Go to [render.com](https://render.com)
- Sign up/login with GitHub

### 3. Create New Web Service
1. Click "New" ‚Üí "Web Service"
2. Connect your GitHub repository
3. Configure:
   - **Name**: `telegram-chat-api`
   - **Runtime**: `Python 3`
   - **Build Command**: `./build.sh`
   - **Start Command**: `gunicorn telegramweb.wsgi:application`

### 4. Set Environment Variables
In Render dashboard, add these environment variables:

**Required:**
```
TELEGRAM_API_ID=28541868
TELEGRAM_API_HASH=864864148911118e66d8f62fc06bf778
DJANGO_DEBUG=False
```

**Auto-generated by Render:**
- `DJANGO_SECRET_KEY` (will be auto-generated)
- `DATABASE_URL` (created with PostgreSQL database)

**Optional (update with your domains):**
```
DJANGO_ALLOWED_HOSTS=yourapp.onrender.com
CORS_ALLOWED_ORIGINS=https://yourfrontend.vercel.app,https://yourfrontend.netlify.app
```

### 5. Add Database
1. In Render dashboard, create new PostgreSQL database
2. Name it `telegram-chat-db` 
3. Connect it to your web service
4. Render will automatically set `DATABASE_URL`

### 6. Deploy
- Click "Create Web Service"
- Render will automatically deploy
- Monitor build logs for any issues

## üîç Testing Your Deployment

Once deployed, your API will be available at: `https://yourapp.onrender.com`

Test the endpoints:
```bash
# Send verification code
curl -X POST https://yourapp.onrender.com/api/send_code/ \
  -H "Content-Type: application/json" \
  -d '{"phone": "+1234567890"}'

# Verify code
curl -X POST https://yourapp.onrender.com/api/verify_code/ \
  -H "Content-Type: application/json" \
  -d '{"phone": "+1234567890", "code": "12345", "phone_code_hash": "hash"}'
```

## üéØ Frontend Integration

Your frontend can now connect to:
- **Base URL**: `https://yourapp.onrender.com`
- **API Endpoints**: `/api/send_code/`, `/api/verify_code/`, etc.
- **CORS**: Configured for your frontend domains

## üìù Important Notes

1. **Free Tier Limitations**: Render free tier has:
   - 750 hours/month
   - Sleeps after 15 minutes of inactivity
   - Cold start delays

2. **Database**: PostgreSQL database included
   - Automatic backups
   - Connection pooling

3. **Logs**: Monitor deployment at Render dashboard
4. **Updates**: Push to GitHub = automatic redeploy

## üõ†Ô∏è Troubleshooting

**Build Fails?**
- Check build logs in Render dashboard
- Verify `build.sh` has execute permissions

**Environment Variables?**
- Ensure all required variables are set
- Check spelling and values

**Database Issues?**
- Verify PostgreSQL database is connected
- Check `DATABASE_URL` is automatically set

Your Telegram Chat API is now production-ready! üéâ